2001-07-04  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* configure.in (LTLIBRELEASE): Remove `AC_DEFINE(_GNU_SOURCE)'.
	Reorder some tests.

2001-07-03  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* Version 1.0.6.

	* Makefile.am (libvm68k_la_LDFLAGS): Updates the version
	information.

	* configure.in: Set VERSION to 1.0.6.

	* vm68k/iterator.h (class basic_uint16_iterator): Add template
	constructor.  Remove operators >, <=, and >=.  Make operators +,
	-, ==, and != non-member.
	(class basic_uint16_iterator): Likewise.

2001-07-02  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* Change tests for Nana macros.

2001-07-01  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* memory_map.cc: Move Nana inclusion first.  Use "vm68k/memory.h"
	instead of <vm68k/memory.h>.
	(_GNU_SOURCE): Defined.
	(_POSIX_C_SOURCE): Defined.
	(inline): Removed.
	(class missing_memory): Renamed from default_memory.  Add
	throw-specs to methods.
	(__null_memory): Renamed from null_memory.
	(null_memory): New function.
	(memory_map): Use the function null_memory.

	* memory.cc (bus_error::vecno): New function.
	(bus_error::what): New function.
	(address_error::vecno): New function.
	(address_error::what): New function.

	* vm68k/memory.h (class memory_exception): Removed variable member
	vecno.  Add prefix to other members.  Modify the constructor
	arguments and move it out of the definition.  Add pure virtual
	function vecno.
	(struct bus_error): Replace struct bus_error_exception.  Also
	change all users.
	(struct address_error): Replace struct address_error_exception.
	Also change all users.
	(class memory): Add enum access.
	(class memory_map): Make the destructor out-of-line.  Add static
	method null_memory.

	* NEWS: Updated.

	* vm68k/iterator.h (class basic_uint16_iterator): Use const
	references for T arguments.  Add explicit to the class ref
	constructor.  Remove template constructor and conversion to T.
	Add new member `base'.
	(class basic_uint32_iterator): Likewise.

2001-06-29  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* Version 1.0.5.

	* Makefile.am (libvm68k_la_LDFLAGS): Update the version
	information.

	* configure.in: Set VERSION to 1.0.5.

	* TODO: Updated.

	* NEWS: Updated.

	* vm68k/processor.h (struct byte_size): Removed.
	(struct word_size): Removed.
	(struct long_word_size): Removed.

	* vm68k/Makefile.am (vm68kinclude_HEADERS): Add size.h.

	* vm68k/size.h: New file.
	(struct byte_size): Moved from vm68k/processor.h.
	(struct word_size): Likewise.
	(struct long_word_size): Likewise.

	* memory.cc (get_32): Add throw-spec.
	(put_32): Likewise.

	* vm68k/memory.h (class memory): Add throw-spec to get_8, get_16,
	get_32, put_8, put_16, and put_32.

	* configure.in: Set _GNU_SOURCE to 1.

	* vm68k/memory.h: Remove #include <vm68k/iterator.h>.
	(__VM68K_MEMORY_H): Renamed _VM68k_MEMORY_H.

	* vm68k/iterator.h (class basic_uint16_iterator): Add relation
	operators.  Move some methods out of the class definition.
	(class basic_uint32_iterator): Likewise.

	* vm68k/memory.h (PAGE_SHIFT): Changed to signed.
	(ADDRESS_BIT): Likewise.
	(getw, getl, putw, putl): Removed.

	* Makefile.am (LTLIBRELEASE): Removed.

	* configure.in (LTLIBRELEASE): Set for substitution.

2001-06-27  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* vm68k/memory.h (class basic_uint16_iterator): Removed.
	(class basic_uint32_iterator): Removed.

	* vm68k/Makefile.am (vm68kinclude_HEADERS): Add iterator.h.

	* vm68k/iterator.h: New file.
	(class basic_uint16_iterator): Moved from memory.h.
	(class basic_uint32_iterator): Likewise.

	* configure.in: Move the test for `--with-nana' later.  Add
	AC_C_CONST.  Improve warning messages for missing C++ features.

	* version.cc: Use "vm68k/misc.h" instead of <vm68k/misc.h>.
	(_GNU_SOURCE): Defined.
	(_POSIX_C_SOURCE): Defined.
	(inline): Remove #undef.

	* memory.cc (_GNU_SOURCE): Defined.
	(_POSIX_C_SOURCE): Defined.
	(inline): Remove #undef.

2001-06-26  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* Version 1.0.4.

	* Makefile.am (libvm68k_la_LDFLAGS): Update the version
	information.

	* configure.in: Set VERSION to 1.0.4.

	* NEWS: Updated.

	* vm68k/types.h: Remove uint_type and sint_type.  Also change all
	users.

	* vm68k/processor.h: Remove #include <cassert>.

	* vm68k/types.h: Update comments.
	(__VM68K_TYPES_H): Renamed from _VM68K_TYPES_H.

	* memory.cc: Use a namespace block.  Include <nana.h> before other
	headers.

	* version.cc: Comment fix.

	* vm68k/Makefile.am (vm68kinclude_HEADERS): Remove except.h.

	* vm68k/except.h: Removed.

	* vm68k/processor.h (struct processor_exception): Moved from
	except.h.
	(struct illegal_instruction_exception): Likewise.
	(struct zero_divide_exception): Likewise.
	(struct privilege_violation_exception): Likewise.
	(__VM68K_PROCESSOR_H): Renamed from _VM68K_PROCESSOR_H.

	* configure.in: Use new macros.

	* acinclude.m4: Copied from the autoconf macro archive.

	* NEWS: Reformated again.

	* TODO: Updated.

2001-06-24  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* NEWS: Reformated for the Emacs outline mode.

2001-06-19  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* Version 1.0.3.

	* Makefile.am (libvm68k_la_LDFLAGS): Update the version info.

	* configure.in: Set VERSION to 1.0.3.

	* NEWS: Updated.

	* memory_map.cc: Use a namespace block.
	(memory_map::fill): Use std:: prefix.

	* configure.in: Add AC_PROG_CPP.  Uncomment AC_SEARCH_LIBS for
	pthread.

	* memory_map.cc (write): Add const to pointers.

	* vm68k/except.h (__VM68k_EXCEPT_H): Renamed from _VM68k_EXCEPT_H.
	(struct processor_exception): Renamed from ordinary_exception.
	Also change all users.
	(struct processor_exception): Change the base class from
	runtime_error to exception.

	* Makefile.am (libvm68k_la_SOURCES): Add version.cc.

	* version.cc: New file.

	* vm68k/Makefile.am (vm68kinclude_HEADERS): Add misc.h.

	* vm68k/misc.h: New file.

2001-06-17  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* Version 1.0.2.

	* configure.in: Set VERSION to 1.0.2.

	* README: Updated.

	* NEWS: Updated for new release.

2001-06-16  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* Makefile.am (info_TEXINFOS): New macro.
	(LTLIBRELEASE): New macro.
	(libvm68k_la_LDFLAGS): Use LTLIBRELEASE.

	* libvm68k.texi: New file.
	* texinfo.tex: New file.

2001-06-13  Kaz Sasayama  <Kaz.Sasayama@HyperLinuxJP.com>

	* Separated from vx68k.  See the file ChangeLog.vx68k for older
	changes.

